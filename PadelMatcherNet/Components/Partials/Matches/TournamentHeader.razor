@using PadelMatcherNet.Models
@using PadelMatcherNet.Components.Partials.Matches
@using PadelMatcherNet.Services
@using PadelMatcherNet.Components.Partials

<MudPaper Class="pa-4 mb-4">
    <MudGrid>
        <MudItem xs="12" sm="8">
            <MudText Typo="Typo.h6">
                <MudIcon Icon="@Icons.Material.Filled.EmojiEvents" Class="mr-2" />
                @Tournament?.Name
            </MudText>
            <MudText Typo="Typo.body2" Class="mud-text-secondary">
                Round @Tournament?.CurrentRound â€¢ @MatchesCount partite totali
            </MudText>
        </MudItem>
        <MudItem xs="12" sm="4" Class="text-right">
            <MudButton Variant="Variant.Filled" 
                     Color="Color.Primary" 
                     StartIcon="@Icons.Material.Filled.Add"
                     OnClick="OnGenerate">
                Genera Partite (@(HasPendingMatches ? "Pending" : "0"))
            </MudButton>
        </MudItem>
    </MudGrid>
</MudPaper>

@code {
    [Parameter] public Tournament? Tournament { get; set; }
    [Parameter] public int MatchesCount { get; set; }
    [Parameter] public bool HasPendingMatches { get; set; }
    [Parameter] public EventCallback OnGenerate { get; set; }
}